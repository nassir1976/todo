(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{159:function(e,t,n){e.exports=n(307)},168:function(e,t,n){},169:function(e,t,n){},190:function(e,t){},192:function(e,t){},206:function(e,t){},208:function(e,t){},236:function(e,t){},238:function(e,t){},239:function(e,t){},244:function(e,t){},246:function(e,t){},252:function(e,t){},254:function(e,t){},273:function(e,t){},285:function(e,t){},288:function(e,t){},307:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),l=n.n(c),o=n(16),u=n.n(o),i=n(33),s=n(8),m=n(57),f=n(19),p=n(310),d=n(51),b=n(86),h=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1];return[function(e){c(Object(b.a)(Object(b.a)({},r),{},Object(d.a)({},e.target.name,e.target.value)))},function(t){t.preventDefault(),t.target.reset(),e(r),c({})}]};var E=function(e){var t=e.callback,n=h(t),a=Object(s.a)(n,2),c=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{style:{width:"25rem"}},r.a.createElement("h4",null,"Add To Do Item"),r.a.createElement("form",{onSubmit:l},r.a.createElement("label",null,r.a.createElement("span",null,"To Do Item"),r.a.createElement("input",{"data-testid":"FORM",name:"text",placeholder:"Add To Do List Item",onChange:c})),r.a.createElement("label",null,r.a.createElement("span",null,"Difficulty Rating"),r.a.createElement(p.a.Control,{defaultValue:"1",type:"range",min:"1",max:"5",name:"difficulty",onChange:c})),r.a.createElement("label",null,r.a.createElement("span",null,"Assigned To"),r.a.createElement("input",{type:"text",name:"assignee",placeholder:"Assigned To",onChange:c})),r.a.createElement(m.a,{className:"button",style:{color:"white"},variant:"primary",type:"submit"},"Add Item"))))},v=n(158),g=r.a.createContext();var j=function(e){var t=Object(a.useState)("difficulty"),n=Object(s.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)("true"),u=Object(s.a)(o,2),i=u[0],m=u[1],f=Object(a.useState)(4),p=Object(s.a)(f,2),d=p[0],b=p[1],h={sort:c,completed:i,numberItems:d,updateSort:l,updateCompleted:m,updateNumber:b};return Object(a.useEffect)((function(){console.log(i)}),[i]),Object(a.useEffect)((function(){console.log(d)}),[d]),r.a.createElement(g.Provider,{value:h},e.children)};n(168);var y=function(e){var t=e.list,n=e.handleComplete,c=e.handleDelete,l=Object(a.useContext)(g),o=Object(a.useState)(1),u=Object(s.a)(o,2),i=u[0],p=u[1],d=Object(a.useState)(t),b=Object(s.a)(d,2),h=b[0],E=b[1],j=function(e){"previous"===e.target.innerText?i>1&&(p(i-1),console.log("pagedes.....",i)):(p(i+1),console.log("pagrincrement",i))},y=function(){"false"===l.completed?E(t):E(h.filter((function(e){return!e.completed})))},O=function(){var e=l.sort;console.log(e);var t=h.sort((function(e,t){return e[l.sort]>t[l.sort]?1:e[l.sort]<t[l.sort]?-1:0}));E(t)},x=function(){if(h[0]){var e=[];console.log(t);for(var n=l.numberItems*(i-1),a=l.numberItems*i,r=n;r<a;r++)e.push(h[r]);E(e)}};return Object(a.useEffect)((function(){E(t)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.Consumer,null,(function(e){return r.a.createElement(f.a,{style:{border:"solid black",width:"50%",marginLeft:"20vw",marginTop:"30px"}},r.a.createElement(f.a.Body,null,r.a.createElement("div",{className:"top"},r.a.createElement("label",null,"  Display Completed",r.a.createElement(m.a,{style:{marginLeft:"8px"},size:"sm",onClick:function(t){return function(e,t){e.preventDefault(),t.updateCompleted(!t.complete),y()}(t,e)}}," ",e.completed)),r.a.createElement("select",{onChange:function(t){return function(e,t){e.preventDefault(),t.updateSort(e.target.value),O()}(t,e)}},r.a.createElement("option",{value:"difficulty"},"Sort By"),r.a.createElement("option",{name:"difficulty"},"Difficulty"),r.a.createElement("option",{name:"assignee",value:"assignee"},"Assignee"))),r.a.createElement("label",null,"Items on Page",r.a.createElement("input",{style:{marginLeft:"8px",width:"5vw"},onSubmit:function(t){return function(e,t){e.preventDefault(),t.updateNumber(e.target.numberItems.value),x()}(t,e)},type:"number",name:"numberItems",min:"1",max:t.length,required:!0,placeholder:e.numberItems}))))})),r.a.createElement(v.a,{style:{width:"50%",marginLeft:"20vw",marginTop:"30px"}},t.map((function(e){return r.a.createElement(f.a,{key:e._id,style:{width:"25rem",marginBottom:"4px"}},r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Title,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottom:"",height:"2.5vh"}},r.a.createElement("span",{className:!0===e.complete?"complete complete-pill":"pending progress-pill",onClick:function(){return n(e._id)}},!0===e.complete?"Complete":"Pending"),r.a.createElement("div",null,r.a.createElement("span",{className:"assigned-person"},e.assignee)),r.a.createElement("button",{className:"delete-button",onClick:function(){return c(e._id)}},"X")),r.a.createElement(f.a.Text,{style:{color:"green",fontSize:"1.20rem"}},e.text),r.a.createElement(f.a.Link,{href:"#"}),r.a.createElement(f.a.Text,{style:{float:"right",fontSize:"0.80rem"}},"Difficulty: ",e.difficulty)))})),r.a.createElement("div",{className:"flex-child"},r.a.createElement(m.a,{size:"sm",className:"flex-child",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",color:"white",border:"0.1px solid black",width:"80px",height:"2.5vh"},onClick:j},"Previous"),r.a.createElement("div",{className:"pg-number"},i),r.a.createElement(m.a,{className:"flex-child",size:"sm",style:{display:"flex",flexDirection:"row",justifyContent:"space-between",color:"white",alignItems:"center",border:" 0.1px solid black",width:"80px",height:"2.5vh"},onClick:j},"Next"))))},O=n(309),x=(n(169),n(34)),w=n.n(x),k=function(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),l=Object(s.a)(c,2),o=l[0],m=l[1];return Object(a.useEffect)((function(){function e(){return(e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.url){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,w()({data:n.input,url:n.url,method:n.method,mode:n.mode,headers:n.headers,validateStatus:n.validateStatus});case 5:t=e.sent,m(t.data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),[o,r]},C=n(52),S=n.n(C),D=n(56),N=n.n(D),T=r.a.createContext();var I=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),i=u[0],m=u[1],f=k(),p=Object(s.a)(f,2),d=p[0],b=p[1];Object(a.useEffect)((function(){console.log(d),h(d.token)&&(l(d.user),m(d.token),N.a.save("auth",d.token))}),[d]),Object(a.useEffect)((function(){var e=N.a.load("auth");e&&m(e)}),[]);var h=function(e){var t=S.a.decode(e);return!!t&&(t.username===c.username||void 0)};return r.a.createElement(T.Provider,{value:{user:c,token:i,login:function(e,t){var n={url:"".concat("https://api-js401.herokuapp.com","/signin"),method:"post",headers:{Authorization:"Basic ".concat(btoa("".concat(e,":").concat(t)))},input:{}};b(n)},logout:function(){l({}),m(""),N.a.remove("auth")}}},e.children)},L=n(35);var A=function(){var e=h((function(e){l.login(e.username,e.password)})),t=Object(s.a)(e,2),n=t[0],c=t[1],l=Object(a.useContext)(T);return r.a.createElement(L.b,{condition:l.token},r.a.createElement(L.c,null,r.a.createElement("button",{onClick:l.logout},"Log Out")),r.a.createElement(L.a,null,r.a.createElement("form",{className:"form",onSubmit:c},r.a.createElement("input",{placeholder:"username",name:"username",onChange:n}),r.a.createElement("input",{name:"password",type:"password",onChange:n}),r.a.createElement("button",{name:"password"},"Login"))))};var B=function(e){var t=e.capability,n=e.children,c=Object(a.useContext)(T);return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.d,{condition:function(e){var t=S.a.decode(c.token);return!!t&&!!t.capabilities.includes(e)}(t)},n))},z="https://api-js401.herokuapp.com/api/v1/todo";function F(){var e=k(),t=Object(s.a)(e,2),n=(t[0],t[1]),c=Object(a.useState)([]),l=Object(s.a)(c,2),o=l[0],m=l[1];Object(a.useEffect)((function(){n.results?n.results&&m(n.results):f()}),[n]),Object(a.useEffect)((function(){document.title="To Do List:".concat(o.filter((function(e){return!e.complete})),".length")}),[o]),console.log(n);var f=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({url:z,method:"get",mode:"cors",headers:{"content-Type":"application/json"}});case 2:t=e.sent,n=t.data.results,m(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);var p=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({url:z,method:"post",mode:"cors",headers:{"content-Type":"application/json"},data:t});case 2:return n=e.sent,f(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({url:"".concat(z,"/").concat(t),method:"delete",mode:"cors",headers:{"content-Type":"application/json"}});case 2:return n=e.sent,f(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,r.a.createElement("header",null,r.a.createElement(O.a,{style:{color:"white"},bg:"primary",variant:"dark",className:"headerOne"},"Home",r.a.createElement(A,null)),r.a.createElement("br",null)),r.a.createElement(B,{capability:"read"},r.a.createElement(O.a,{className:"toDoCount",style:{color:"white"},bg:"dark",variant:"dark"},"To Do List Manager(",o.filter((function(e){return!e.complete})).length,")"),r.a.createElement("section",{className:"todo"},r.a.createElement(B,{capability:"create"},r.a.createElement("div",{className:"formGroup"},r.a.createElement(E,{callback:p}))),r.a.createElement(j,null,r.a.createElement("div",{className:"listGroup"},r.a.createElement(y,{list:o,handleComplete:function(e){var t=o.filter((function(t){return t._id===e}))[0]||{};if(t._id){t.complete=!t.complete;var a={url:"".concat(z,"/").concat(e),method:"put",mode:"cors",headers:{"content-Type":"application/json"},data:{complete:!t.complete}};n(a)}},handleDelete:d})))))))}n(306);var P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null))};function _(){return r.a.createElement(P,null)}var G=document.getElementById("root");l.a.render(r.a.createElement(_,null),G);t.default=_}},[[159,1,2]]]);
//# sourceMappingURL=main.251caca8.chunk.js.map